
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆ—è½¬è¡Œå·¥å…· - åœ¨çº¿å·¥å…·é›†</title>
    <link rel="stylesheet" href="common.css">
</head>
<body>
    <div class="container">
        <!-- ä¾§è¾¹æ  -->
        <aside class="sidebar">
            <div class="logo">
                <span>ğŸ”§</span>
                <span>å·¥å…·ç®±</span>
            </div>
            <nav>
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="index.html" class="nav-link">
                            <span class="nav-icon">â—</span>
                            <span>å…¨éƒ¨å·¥å…·</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="JsonConverter.html" class="nav-link">
                            <span class="nav-icon">{}</span>
                            <span>JSON ç¾åŒ–</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="Base64.html" class="nav-link">
                            <span class="nav-icon">ğŸ” </span>
                            <span>Base64 ç¼–è§£ç </span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="TransFormat.html" class="nav-link">
                            <span class="nav-icon">âš¡</span>
                            <span>æ ¼å¼è½¬æ¢å™¨</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="ToSplit.html" class="nav-link active">
                            <span class="nav-icon">â†”ï¸</span>
                            <span>åˆ—è½¬è¡Œå·¥å…·</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="PasswordGenerator.html" class="nav-link">
                            <span class="nav-icon">ğŸ”</span>
                            <span>å¯†ç ç”Ÿæˆå™¨</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- ä¸»å†…å®¹åŒº -->
        <main class="main-content">
            <div class="page-header">
                <h1 class="page-title">åˆ—è½¬è¡Œå·¥å…·</h1>
                <p class="page-description">
                    å°†ä¸€åˆ—æ•°æ®å¿«é€Ÿè½¬æ¢æˆä¸€è¡Œï¼Œæ”¯æŒé€—å·åˆ†éš”å’Œå¼•å·åŒ…è£¹ã€‚é€‚åˆç”¨äº SQLã€CSVã€æ—¥å¿—æˆ–å‘½ä»¤è¡Œå‚æ•°ã€‚
                </p>
            </div>

            <div class="tool-card">
                <div class="textarea-wrapper">
                    <label class="textarea-label">è¾“å…¥æ•°æ®ï¼ˆæ¯è¡Œä¸€ä¸ªå€¼ï¼‰</label>
                    <textarea id="input" rows="12" placeholder="è¯·è¾“å…¥æ•°æ®ï¼Œæ¯è¡Œä¸€ä¸ªå€¼ï¼š&#10;ä¾‹å¦‚ï¼š&#10;apple&#10;banana&#10;orange"></textarea>
                    <p style="font-size: 13px; color: #64748b; margin-top: 8px;">
                        ğŸ’¡ ç©ºè¡Œä¼šè‡ªåŠ¨å¿½ç•¥ï¼Œæ¯è¡Œçš„å‰åç©ºæ ¼ä¼šè‡ªåŠ¨ç§»é™¤
                    </p>
                </div>

                <div class="button-group">
                    <button class="btn btn-primary" id="btnComma">
                        ğŸ“ é€—å·åˆ†éš”
                    </button>
                    <button class="btn btn-secondary" id="btnQuotedComma">
                        ğŸ“‹ å¸¦å¼•å·åˆ†éš”
                    </button>
                    <button class="btn btn-outline" id="btnClear">
                        ğŸ—‘ï¸ æ¸…ç©º
                    </button>
                </div>

                <div id="error-message" class="error-message"></div>

                <div class="textarea-wrapper">
                    <label class="textarea-label">è½¬æ¢ç»“æœ</label>
                    <textarea id="output" rows="6" placeholder="ç»“æœä¼šæ˜¾ç¤ºåœ¨è¿™é‡Œ..." readonly></textarea>
                    <p style="font-size: 13px; color: #64748b; margin-top: 8px;">
                        âœ¨ ç»“æœå·²æ˜¯ä¸€è¡Œæ–‡æœ¬ï¼Œé€‚åˆç›´æ¥ç²˜è´´ä½¿ç”¨
                    </p>
                </div>

                <div class="button-group">
                    <button class="btn btn-success" id="btnCopy">
                        ğŸ“‹ å¤åˆ¶ç»“æœ
                    </button>
                </div>
            </div>

            <footer class="footer">
                <p>Â© 2025 åœ¨çº¿å·¥å…·é›†. æ‰€æœ‰å¤„ç†åœ¨æœ¬åœ°å®Œæˆ</p>
            </footer>
        </main>
    </div>

    <script>
        function getCleanItems() {
            const raw = document.getElementById('input').value || '';
            return raw
                .split(/\r?\n/)               // æŒ‰è¡Œåˆ†å‰²
                .map(s => s.trim())           // å»æ‰å‰åç©ºæ ¼
                .filter(s => s.length > 0);   // è¿‡æ»¤ç©ºè¡Œ
        }

        function setOutput(text) {
            const out = document.getElementById('output');
            out.value = text;
        }

        document.getElementById('btnComma').addEventListener('click', () => {
            const items = getCleanItems();
            if (items.length === 0) {
                showError('è¯·è¾“å…¥è‡³å°‘ä¸€è¡Œå†…å®¹');
                return;
            }
            setOutput(items.join(','));
            hideError();
        });

        document.getElementById('btnQuotedComma').addEventListener('click', () => {
            const items = getCleanItems().map(s => `'${s.replace(/'/g, "\\'")}'`);
            if (items.length === 0) {
                showError('è¯·è¾“å…¥è‡³å°‘ä¸€è¡Œå†…å®¹');
                return;
            }
            setOutput(items.join(','));
            hideError();
        });

        document.getElementById('btnCopy').addEventListener('click', async () => {
            const text = document.getElementById('output').value;
            if (!text) {
                showError('æ²¡æœ‰å¯å¤åˆ¶çš„å†…å®¹');
                return;
            }
            try {
                await navigator.clipboard.writeText(text);
                document.getElementById('error-message').style.backgroundColor = '#f0fdf4';
                document.getElementById('error-message').style.color = '#16a34a';
                showError('âœ“ å¤åˆ¶æˆåŠŸï¼');
                setTimeout(() => {
                    hideError();
                    document.getElementById('error-message').style.backgroundColor = '';
                    document.getElementById('error-message').style.color = '';
                }, 2000);
            } catch (e) {
                // é™çº§æ–¹æ¡ˆï¼šä½¿ç”¨ä¼ ç»Ÿçš„å¤åˆ¶æ–¹å¼
                const output = document.getElementById('output');
                output.select();
                try {
                    document.execCommand('copy');
                    document.getElementById('error-message').style.backgroundColor = '#f0fdf4';
                    document.getElementById('error-message').style.color = '#16a34a';
                    showError('âœ“ å¤åˆ¶æˆåŠŸï¼');
                    setTimeout(() => {
                        hideError();
                        document.getElementById('error-message').style.backgroundColor = '';
                        document.getElementById('error-message').style.color = '';
                    }, 2000);
                } catch (err) {
                    showError('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰ä¸­ç»“æœæ–‡æœ¬å Ctrl/Cmd+C å¤åˆ¶');
                }
            }
        });

        document.getElementById('btnClear').addEventListener('click', () => {
            document.getElementById('input').value = '';
            setOutput('');
            hideError();
        });

        function showError(message) {
            const errorElement = document.getElementById('error-message');
            errorElement.textContent = message;
            errorElement.classList.add('show');
        }

        function hideError() {
            const errorElement = document.getElementById('error-message');
            errorElement.textContent = '';
            errorElement.classList.remove('show');
        }
    </script>
</body>
</html>
