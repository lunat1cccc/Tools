<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Base64 ç¼–è§£ç  - åœ¨çº¿å·¥å…·é›†</title>
    <link rel="stylesheet" href="common.css">
</head>
<body>
    <div class="container">
        <!-- ä¾§è¾¹æ  -->
        <aside class="sidebar">
            <div class="logo">
                <span>ğŸ”§</span>
                <span>å·¥å…·ç®±</span>
            </div>
            <nav>
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="index.html" class="nav-link">
                            <span class="nav-icon">â—</span>
                            <span>å…¨éƒ¨å·¥å…·</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="JsonConverter.html" class="nav-link">
                            <span class="nav-icon">{}</span>
                            <span>JSON ç¾åŒ–</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="Base64.html" class="nav-link active">
                            <span class="nav-icon">ğŸ” </span>
                            <span>Base64 ç¼–è§£ç </span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="TransFormat.html" class="nav-link">
                            <span class="nav-icon">âš¡</span>
                            <span>æ ¼å¼è½¬æ¢å™¨</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="ToSplit.html" class="nav-link">
                            <span class="nav-icon">â†”ï¸</span>
                            <span>åˆ—è½¬è¡Œå·¥å…·</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- ä¸»å†…å®¹åŒº -->
        <main class="main-content">
            <div class="page-header">
                <h1 class="page-title">Base64 ç¼–è§£ç </h1>
                <p class="page-description">
                    å…è´¹åœ¨çº¿ Base64 ç¼–ç å’Œè§£ç å·¥å…·ï¼Œå¿«é€Ÿè½¬æ¢æ–‡æœ¬æ•°æ®ã€‚æ‰€æœ‰å¤„ç†åœ¨æœ¬åœ°å®Œæˆï¼Œä¿æŠ¤æ‚¨çš„éšç§å®‰å…¨ã€‚
                </p>
            </div>

            <div class="tool-card">
                <div class="textarea-wrapper">
                    <label class="textarea-label">è¾“å…¥å†…å®¹</label>
                    <textarea id="input" rows="10" placeholder="åœ¨æ­¤è¾“å…¥è¦ç¼–ç æˆ–è§£ç çš„å†…å®¹..."></textarea>
                </div>

                <div class="button-group">
                    <button class="btn btn-primary" onclick="encodeBase64()">
                        ğŸ”’ ç¼–ç ä¸º Base64
                    </button>
                    <button class="btn btn-secondary" onclick="decodeBase64()">
                        ğŸ”“ è§£ç  Base64
                    </button>
                    <button class="btn btn-outline" onclick="clearAll()">
                        ğŸ—‘ï¸ æ¸…ç©º
                    </button>
                </div>

                <div id="error-message" class="error-message"></div>

                <div class="textarea-wrapper">
                    <label class="textarea-label">è½¬æ¢ç»“æœ</label>
                    <textarea id="output" rows="12" placeholder="è½¬æ¢ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ..." readonly></textarea>
                </div>

                <div class="button-group">
                    <button class="btn btn-success" onclick="copyResult()">
                        ğŸ“‹ å¤åˆ¶ç»“æœ
                    </button>
                </div>
            </div>

            <footer class="footer">
                <p>Â© 2025 åœ¨çº¿å·¥å…·é›†. æ‰€æœ‰å¤„ç†åœ¨æœ¬åœ°å®Œæˆ</p>
            </footer>
        </main>
    </div>

    <script>
        function encodeBase64() {
            const input = document.getElementById('input').value;
            const output = document.getElementById('output');

            if (!input) {
                showError('è¯·è¾“å…¥è¦ç¼–ç çš„å†…å®¹');
                return;
            }

            try {
                // æ”¯æŒä¸­æ–‡ç¼–ç 
                const encoded = btoa(unescape(encodeURIComponent(input)));
                output.value = encoded;
                hideError();
            } catch (e) {
                showError('ç¼–ç å¤±è´¥ï¼š' + e.message);
                output.value = '';
            }
        }

        function decodeBase64() {
            const input = document.getElementById('input').value;
            const output = document.getElementById('output');

            if (!input.trim()) {
                showError('è¯·è¾“å…¥è¦è§£ç çš„ Base64 å†…å®¹');
                return;
            }

            try {
                // æ”¯æŒä¸­æ–‡è§£ç 
                const decoded = decodeURIComponent(escape(atob(input.trim())));
                output.value = decoded;
                hideError();
            } catch (e) {
                showError('è§£ç å¤±è´¥ï¼šè¾“å…¥çš„ Base64 æ ¼å¼ä¸æ­£ç¡®');
                output.value = '';
            }
        }

        function clearAll() {
            document.getElementById('input').value = '';
            document.getElementById('output').value = '';
            hideError();
        }

        function copyResult() {
            const output = document.getElementById('output');
            if (!output.value) {
                showError('æ²¡æœ‰å¯å¤åˆ¶çš„å†…å®¹');
                return;
            }
            
            output.select();
            document.execCommand('copy');
            
            // ä¸´æ—¶æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
            document.getElementById('error-message').style.backgroundColor = '#f0fdf4';
            document.getElementById('error-message').style.color = '#16a34a';
            showError('âœ“ å¤åˆ¶æˆåŠŸï¼');
            
            setTimeout(() => {
                hideError();
                document.getElementById('error-message').style.backgroundColor = '';
                document.getElementById('error-message').style.color = '';
            }, 2000);
        }

        function showError(message) {
            const errorElement = document.getElementById('error-message');
            errorElement.textContent = message;
            errorElement.classList.add('show');
        }

        function hideError() {
            const errorElement = document.getElementById('error-message');
            errorElement.textContent = '';
            errorElement.classList.remove('show');
        }
    </script>
</body>
</html>
